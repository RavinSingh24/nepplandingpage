<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resources - NEPP</title>
    <link rel="icon" href="../images/logo.png" type="image/png">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/resources.css">
</head>
<body>
    <div id="settings-container"></div>
    <div class="nepp-root">
        <aside class="sidebar">
            <!-- Sidebar content will be loaded here by sidebar.js -->
        </aside>
        <main class="main-content">
            <div class="resources-header">
                <h1>Resources</h1>
                <div class="resources-controls">
                    <div class="filter-container">
                        <select id="fileFilter" class="filter-select">
                            <option value="all">All Files</option>
                            <option value="my-files">My Files</option>
                            <option value="shared-with-me">Shared with Me</option>
                            <option value="shared-by-me">Shared by Me</option>
                        </select>
                    </div>
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search files and folders..." class="search-input">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                        </svg>
                    </div>
                    <button id="uploadBtn" class="upload-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
                        </svg>
                        Upload Files
                    </button>
                </div>
            </div>
            
            <div class="resources-container">
                <div id="dropZone" class="drop-zone">
                    <div class="drop-zone-content">
                        <svg class="drop-zone-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
                        </svg>
                        <h3>Drag & Drop Files Here</h3>
                        <p>or click to select files from your computer</p>
                    </div>
                </div>
                
                <div id="filesContainer" class="files-container">
                    <div id="filesList" class="files-list">
                        <!-- Files will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Upload Progress Modal -->
            <div id="uploadModal" class="modal upload-modal" style="display: none;">
                <div class="modal-content">
                    <h3>Uploading Files</h3>
                    <div id="uploadProgress" class="upload-progress">
                        <!-- Progress bars will be added here -->
                    </div>
                    <button id="cancelUpload" class="cancel-btn">Cancel</button>
                </div>
            </div>

            <!-- File Sharing Options Modal -->
            <div id="shareModal" class="modal share-modal" style="display: none;">
                <div class="modal-content">
                    <h3>Share Files</h3>
                    <div class="share-options">
                        <div class="form-group">
                            <label for="shareType">Share with:</label>
                            <select id="shareType" class="form-select">
                                <option value="private">Only me (Private)</option>
                                <option value="group">Group members</option>
                                <option value="specific">Specific users</option>
                            </select>
                        </div>
                        
                        <div id="groupSelection" class="form-group" style="display: none;">
                            <label for="groupSelect">Select Group:</label>
                            <select id="groupSelect" class="form-select">
                                <!-- Groups will be loaded here -->
                            </select>
                        </div>
                        
                        <div id="userSelection" class="form-group" style="display: none;">
                            <label for="userSelect">Select Users:</label>
                            <div id="userSelect" class="user-select-container">
                                <!-- Users will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="shareDescription">Description (optional):</label>
                            <textarea id="shareDescription" rows="3" placeholder="Add a description for these files..."></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button id="cancelShare" class="cancel-btn">Cancel</button>
                        <button id="confirmShare" class="submit-btn">Share Files</button>
                    </div>
                </div>
            </div>
            
            <!-- File Preview Modal -->
            <div id="previewModal" class="modal preview-modal" style="display: none;">
                <div class="modal-content preview-content">
                    <button class="close-btn" id="closePreview">&times;</button>
                    <div id="previewContainer">
                        <!-- File preview will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <input type="file" id="fileInput" multiple style="display: none;">
    
    <script type="module" src="/config/firebase-config.js"></script>
    <script type="module" src="/components/sidebar.js"></script>
    <script type="module" src="/services/auth-service.js"></script>
    <script type="module" src="/services/resources-service.js"></script>
    <script type="module" src="../js/resources.js"></script>
</body>
</html>
